{% extends 'base.html' %}

{% block title %}{{ book.title|upper }} - LE MONDE DES LIVRES{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="bg-white border-2 border-amber-800 shadow-[4px_4px_0_#78350f] p-6 sm:p-8">
        <!-- En-tête -->
        <div class="mb-8">
            <h2 class="text-2xl sm:text-3xl font-bold text-amber-900 uppercase underline decoration-amber-500">
                {{ book.title|upper }}
            </h2>
            <h3 class="text-lg sm:text-xl text-amber-700 mt-2">
                par {{ book.author }}
            </h3>
        </div>

        <!-- Contenu principal -->
        <div class="grid md:grid-cols-3 gap-8">
            <!-- Colonne gauche (Image + Prix) -->
            <div class="md:col-span-1">
                <div class="border-2 border-amber-300 p-4 mb-4">
                    <div class="h-64 bg-amber-100 flex items-center justify-center">
                        <span class="text-amber-700 text-sm">IMAGE DU LIVRE</span>
                    </div>
                </div>
                
                <div class="bg-amber-50 border-2 border-amber-400 p-4">
                    <p class="text-2xl font-bold text-amber-900 mb-2">
                        {{ book.price }} €
                    </p>
                    <p class="text-sm text-amber-700">
                        Stock disponible : {{ book.stock }} exemplaire{% if book.stock > 1 %}s{% endif %}
                    </p>
                </div>
            </div>

            <!-- Colonne droite (Description) -->
            <div class="md:col-span-2">
                <div class="prose max-w-none text-amber-900">
                    <h4 class="text-lg font-bold mb-4 uppercase border-b-2 border-amber-400 pb-2">
                        Description de l'ouvrage
                    </h4>
                    <p class="leading-relaxed">
                        {{ book.description }}
                    </p>
                </div>
            </div>
        </div>

        <!-- Actions -->
        <div class="mt-8 flex flex-col sm:flex-row gap-4">
            <a href="{{ url_for('main.add_to_cart', book_id=book.id) }}" 
               class="bg-amber-700 hover:bg-amber-800 text-white px-6 py-3 text-center 
                      border-2 border-amber-900 shadow-[3px_3px_0_#78350f] hover:shadow-[4px_4px_0_#78350f] 
                      transition-all uppercase font-bold flex-1">
                AJOUTER AU PANIER
            </a>
            
            <a href="{{ url_for('main.catalogue') }}" 
               class="bg-white hover:bg-amber-50 text-amber-900 px-6 py-3 text-center 
                      border-2 border-amber-900 shadow-[3px_3px_0_#78350f] hover:shadow-[4px_4px_0_#78350f] 
                      transition-all uppercase font-bold flex-1">
                RETOUR AU CATALOGUE
            </a>
        </div>
    </div>
</div>
{% endblock %}